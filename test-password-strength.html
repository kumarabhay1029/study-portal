<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Strength Test</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/auth.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        .test-container {
            max-width: 500px;
            margin: 50px auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .test-title {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 1.5em;
        }
        .password-demo {
            margin-bottom: 20px;
        }
        .demo-label {
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 10px;
            display: block;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h2 class="test-title">üîí Password Strength Test</h2>
        
        <div class="password-demo">
            <label class="demo-label" for="testPassword">Test Password:</label>
            <div class="password-input-container">
                <input type="password" id="testPassword" placeholder="Type a password to test strength..." style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.1); color: white;">
                <button type="button" onclick="togglePasswordVisibility('testPassword')" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; color: white; cursor: pointer;">üëÅÔ∏è</button>
            </div>
            <div class="password-strength" id="passwordStrength">
                <div class="strength-bar">
                    <div class="strength-fill" id="strengthFill"></div>
                </div>
                <div class="strength-text" id="strengthText">Password strength will appear here</div>
            </div>
        </div>
        
        <div class="password-demo">
            <label class="demo-label" for="confirmTest">Confirm Password:</label>
            <div class="password-input-container">
                <input type="password" id="confirmTest" placeholder="Retype password to test matching..." style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.1); color: white;">
            </div>
            <div class="input-validation" id="confirmValidation"></div>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 10px;">
            <h4 style="color: white; margin-bottom: 15px;">üìä Strength Levels:</h4>
            <ul style="color: rgba(255,255,255,0.8); line-height: 1.6;">
                <li><strong>Weak:</strong> Short or common passwords</li>
                <li><strong>Fair:</strong> Basic requirements met</li>
                <li><strong>Good:</strong> Mixed characters, good length</li>
                <li><strong>Strong:</strong> Long, complex, secure</li>
            </ul>
            
            <h4 style="color: white; margin: 20px 0 15px; ">üß™ Test Commands:</h4>
            <pre style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; color: #4CAF50; font-size: 12px; overflow-x: auto;">
// Test in console:
checkPasswordStrength('password123')
updatePasswordStrength('MySecure123!')
testRegistration()
            </pre>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script>
        // Simple password strength checker for demo
        function checkPasswordStrength(password) {
            const strength = {
                score: 0,
                text: 'Very Weak',
                class: 'weak',
                percentage: 0
            };
            
            if (!password) {
                strength.text = 'Password strength will appear here';
                return strength;
            }
            
            let score = 0;
            const checks = {
                length: password.length >= 8,
                lowercase: /[a-z]/.test(password),
                uppercase: /[A-Z]/.test(password),
                numbers: /\d/.test(password),
                special: /[!@#$%^&*(),.?":{}|<>]/.test(password),
                noCommon: !['password', '123456', 'qwerty', 'abc123', 'password123'].includes(password.toLowerCase())
            };
            
            // Calculate score
            if (checks.length) score += 2;
            if (checks.lowercase) score += 1;
            if (checks.uppercase) score += 1;
            if (checks.numbers) score += 1;
            if (checks.special) score += 2;
            if (checks.noCommon) score += 1;
            if (password.length >= 12) score += 1;
            
            // Determine strength level
            if (score < 3) {
                strength.score = 0;
                strength.text = 'Very Weak';
                strength.class = 'weak';
                strength.percentage = 20;
            } else if (score < 5) {
                strength.score = 1;
                strength.text = 'Weak';
                strength.class = 'weak';
                strength.percentage = 40;
            } else if (score < 7) {
                strength.score = 2;
                strength.text = 'Fair';
                strength.class = 'fair';
                strength.percentage = 60;
            } else if (score < 8) {
                strength.score = 3;
                strength.text = 'Good';
                strength.class = 'good';
                strength.percentage = 80;
            } else {
                strength.score = 4;
                strength.text = 'Strong';
                strength.class = 'strong';
                strength.percentage = 100;
            }
            
            return strength;
        }

        function updatePasswordStrength(password) {
            const strength = checkPasswordStrength(password);
            const strengthText = document.getElementById('strengthText');
            const strengthFill = document.getElementById('strengthFill');
            
            if (strengthText) {
                strengthText.textContent = strength.text;
                strengthText.className = `strength-text ${strength.class}`;
            }
            
            if (strengthFill) {
                strengthFill.className = `strength-fill ${strength.class}`;
                strengthFill.style.width = `${strength.percentage}%`;
            }
        }

        function togglePasswordVisibility(inputId) {
            const input = document.getElementById(inputId);
            if (input) {
                input.type = input.type === 'password' ? 'text' : 'password';
            }
        }

        // Setup event listeners
        document.addEventListener('DOMContentLoaded', () => {
            const testPassword = document.getElementById('testPassword');
            const confirmTest = document.getElementById('confirmTest');
            
            if (testPassword) {
                testPassword.addEventListener('input', (e) => {
                    updatePasswordStrength(e.target.value);
                });
            }
            
            if (confirmTest) {
                confirmTest.addEventListener('input', (e) => {
                    const password = document.getElementById('testPassword')?.value;
                    const confirmPassword = e.target.value;
                    const validation = document.getElementById('confirmValidation');
                    
                    if (validation) {
                        if (confirmPassword && password !== confirmPassword) {
                            validation.textContent = 'Passwords do not match';
                            validation.className = 'input-validation error';
                        } else if (confirmPassword && password === confirmPassword) {
                            validation.textContent = 'Passwords match ‚úì';
                            validation.className = 'input-validation success';
                        } else {
                            validation.textContent = '';
                            validation.className = 'input-validation';
                        }
                    }
                });
            }
        });

        // Make functions globally available for console testing
        window.checkPasswordStrength = checkPasswordStrength;
        window.updatePasswordStrength = updatePasswordStrength;
        window.testRegistration = function() {
            console.log('üß™ Testing password strength system...');
            const testPasswords = ['123', 'password', 'Password1', 'MySecure123!', 'VeryStrongPassword123!@#'];
            testPasswords.forEach(pwd => {
                const strength = checkPasswordStrength(pwd);
                console.log(`Password: "${pwd}" -> ${strength.text} (${strength.percentage}%)`);
            });
        };
    </script>
</body>
</html>
