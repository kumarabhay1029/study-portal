<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SEMESTER | IGNOU | BCA_NEW</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
  
  <!-- Meta tags for SEO -->
  <meta name="description" content="Study Portal for IGNOU BCA students - Access books, notes, assignments, and track your progress" />
  <meta name="keywords" content="IGNOU, BCA, Study Portal, Notes, Assignments, Books" />
  <meta name="author" content="Study Portal Team" />

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-storage-compat.js"></script>

  <!-- Firebase Initialization with error handling -->
  <script>
    try {
      const firebaseConfig = {
        apiKey: "AIzaSyAIbnC6nfDirCKdc1FudW1SMkLRsJzLARE",
        authDomain: "studygroupfiles-7b140.firebaseapp.com",
        projectId: "studygroupfiles-7b140",
        storageBucket: "studygroupfiles-7b140.appspot.com",
        messagingSenderId: "692950731601",
        appId: "1:692950731601:web:b139767061a67c9c596170",
        measurementId: "G-9XH4MW6QKG"
      };
      firebase.initializeApp(firebaseConfig);
    } catch (error) {
      console.error('Firebase initialization error:', error);
    }
  </script>
</head>

<body>
  <!-- ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <header>
    <nav class="navbar" role="navigation" aria-label="Main navigation">
      <div class="logo">
        <a href="index.html" aria-label="Study Portal Home">Study Portal</a>
      </div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="books.html">Books</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="assignments.html">Assignments</a></li>
        <li><a href="notes.html">Notes</a></li>
        <li><a href="notifications.html">Notifications</a></li>
        <li><a href="login.html">Login</a></li>
      </ul>
      <!-- Mobile menu button -->
      <button class="mobile-menu-btn" aria-label="Toggle mobile menu" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </nav>
  </header>

  <!-- ‚îÄ‚îÄ‚îÄ BANNER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <div class="banner" role="banner">
    <p>üëã Welcome to the Study Portal ‚Äì keep learning and keep growing! üöÄ</p>
  </div>

  <!-- ‚îÄ‚îÄ‚îÄ DASHBOARD SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <section class="dashboard" id="dashboard">
    <div class="dashboard-header">
      <h2>üìä Dashboard ‚Äì Course Progress</h2>
      <p>Track your study progress and stay organized with subject-wise completion stats.</p>
    </div>

    <div class="dashboard-grid">
      <div class="progress-area">
        <div class="progress-box">
          <div class="progress-circle" style="--percent:25;" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
            <span>25%</span>
          </div>
          <div class="label">C Programming</div>
        </div>
        <div class="progress-box">
          <div class="progress-circle" style="--percent:35;" role="progressbar" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100">
            <span>35%</span>
          </div>
          <div class="label">Python</div>
        </div>
        <div class="progress-box">
          <div class="progress-circle" style="--percent:15;" role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100">
            <span>15%</span>
          </div>
          <div class="label">C++</div>
        </div>
        <div class="progress-box">
          <div class="progress-circle" style="--percent:10;" role="progressbar" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
            <span>10%</span>
          </div>
          <div class="label">Data Structures</div>
        </div>
      </div>
      <div class="image-area">
        <img src="img/profile.jpg" alt="Study progress visualization" loading="lazy" />
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ MEMBER DETAILS SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <section class="members" id="members">
    <div class="member-container">
      <h2>üë• Member Details</h2>

      <div class="member-card">
        <div class="member-stats">
          <div class="member-top">
            <div class="member-icon" aria-hidden="true">üë§</div>
            <div>
              <h3>Total Members</h3>
              <p id="totalMembers">20</p>
            </div>
          </div>

          <div class="member-top">
            <div class="member-icon" aria-hidden="true">‚úÖ</div>
            <div>
              <h3>Active Members</h3>
              <p id="activeMembers">15</p>
            </div>
          </div>
        </div>

        <div class="member-info">
          <p><strong>Offline:</strong> <span id="offlineMembers">5</span> members</p>
          <p><strong>Most Active Time:</strong> <span id="activeTime">8 PM IST</span></p>
          <p><strong>Avg. Session:</strong> <span id="avgSession">42 mins</span></p>
        </div>

        <button class="show-btn" onclick="openMemberPanel()" aria-label="Show member list">Show Members</button>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ JOIN COMMUNITY SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <section class="join-community" id="join-community">
    <div class="community-container">
      <h2>ü§ù Join Our Community</h2>
      <p>Fill out the form below to become a member and stay updated with events, projects, and opportunities.</p>
      <div class="form-frame">
        <iframe 
          src="https://forms.gle/hD8X82EYMkPp9p499" 
          width="100%" 
          height="600" 
          frameborder="0" 
          marginheight="0" 
          marginwidth="0"
          title="Community Registration Form"
          loading="lazy">
          Loading form...
        </iframe>
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ DONATE US SECTION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <section class="donate-section" id="donate-section">
    <div class="donate-container">
      <h2>üí∏ Donate Resources</h2>
      <p class="donate-subtitle">
        Share your notes, assignments, or helpful files with the community. All uploads are visible and downloadable by everyone.
      </p>

      <div class="upload-box">
        <label for="uploadFile" class="upload-label">üìÅ Select File</label>
        <input type="file" id="uploadFile" hidden accept=".pdf,.doc,.docx,.txt,.ppt,.pptx" />
        <button class="upload-btn" onclick="uploadToFirebase()" aria-label="Upload selected file">üì§ Upload</button>
      </div>

      <div class="upload-status" id="uploadStatus" style="display: none;"></div>
      
      <div id="fileList" class="uploaded-files">
        <!-- Files will be listed here -->
      </div>
    </div>
  </section>

  <!-- ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
  <footer>
    <div class="footer-content">
      <p>&copy; 2025 Study Portal | All rights reserved.</p>
      <div class="footer-links">
        <a href="#" onclick="showPrivacyPolicy()">Privacy Policy</a>
        <a href="#" onclick="showTerms()">Terms of Service</a>
        <a href="#" onclick="showContact()">Contact Us</a>
      </div>
    </div>
  </footer>

  <!-- Member Panel Modal -->
  <div id="memberPanel" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close" onclick="closeMemberPanel()">&times;</span>
      <h3>Active Members</h3>
      <div id="memberList"></div>
    </div>
  </div>

  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="loading-spinner" style="display: none;">
    <div class="spinner"></div>
  </div>

  <!-- Your custom script -->
  <script src="script.js" defer></script>
  
  <!-- Additional JavaScript for enhanced functionality -->
  <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
      const navLinks = document.querySelector('.nav-links');
      navLinks.classList.toggle('active');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const navbar = document.querySelector('.navbar');
      const navLinks = document.querySelector('.nav-links');
      
      if (!navbar.contains(event.target) && navLinks.classList.contains('active')) {
        navLinks.classList.remove('active');
      }
    });

    // Show loading spinner
    function showLoading() {
      document.getElementById('loadingSpinner').style.display = 'flex';
    }

    // Hide loading spinner
    function hideLoading() {
      document.getElementById('loadingSpinner').style.display = 'none';
    }

    // Enhanced upload function with error handling
    function uploadToFirebase() {
      const fileInput = document.getElementById('uploadFile');
      const file = fileInput.files[0];
      
      if (!file) {
        alert('Please select a file to upload.');
        return;
      }

      // File size validation (max 10MB)
      if (file.size > 10 * 1024 * 1024) {
        alert('File size must be less than 10MB.');
        return;
      }

      showLoading();
      
      // Call your existing upload function
      if (typeof window.uploadToFirebase === 'function') {
        window.uploadToFirebase();
      } else {
        console.error('Upload function not found in script.js');
        hideLoading();
      }
    }

    // Modal functions
    function openMemberPanel() {
      document.getElementById('memberPanel').style.display = 'block';
      // Load member data here
      loadMemberData();
    }

    function closeMemberPanel() {
      document.getElementById('memberPanel').style.display = 'none';
    }

    function loadMemberData() {
      // This would typically fetch data from your backend
      const memberList = document.getElementById('memberList');
      memberList.innerHTML = '<p>Loading member data...</p>';
      
      // Simulate loading
      setTimeout(() => {
        memberList.innerHTML = `
          <div class="member-item">
            <span class="member-name">John Doe</span>
            <span class="member-status online">Online</span>
          </div>
          <div class="member-item">
            <span class="member-name">Jane Smith</span>
            <span class="member-status online">Online</span>
          </div>
          <!-- Add more members here -->
        `;
      }, 1000);
    }

    // Footer functions
    function showPrivacyPolicy() {
      alert('Privacy Policy - Coming Soon!');
    }

    function showTerms() {
      alert('Terms of Service - Coming Soon!');
    }

    function showContact() {
      alert('Contact Us: studyportal@example.com');
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('memberPanel');
      if (event.target === modal) {
        closeMemberPanel();
      }
    }
  </script>
</body>
</html>