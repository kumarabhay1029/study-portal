<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" conte    <!-- Login button (positioned absolutely in top-right corner) -->
    <button class="login-btn" id="main-login-btn" onclick="if(typeof handleLogin === 'function'){handleLogin()}else{document.getElementById('loginModal').classList.add('active')}" title="Login to your account">
        <span class="btn-icon" data-icon="login">🔑</span>
        <span class="btn-text">Login</span>
    </button>idth=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Study Portal - Your Academic Resource Hub</title>
    <meta name="description" content="Comprehensive academic resource hub for BCA studies. Access study materials, assignments, notes, and collaborative projects.">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-storage-compat.js"></script>
    
    <!-- Edge Browser Compatibility -->
    <script>
        // Edge browser compatibility fixes
        if (!window.Promise) {
            document.write('<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"><\/script>');
        }
        if (!window.fetch) {
            document.write('<script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.js"><\/script>');
        }
    </script>
    
    <!-- Cross-Browser Compatibility Script -->
    <script src="js/edge-compatibility.js"></script>
    
    <!-- Icon Fix Script -->
    <script src="js/icon-fix.js"></script>
    
    <!-- Custom Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/auth.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📖</text></svg>">
</head>

<body>
    <!-- ==========================================================================
         MOBILE MENU COMPONENTS
         ========================================================================== -->
    
    <!-- Mobile hamburger menu toggle button (top-left corner) -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" id="mobileMenuToggle">
        <div class="hamburger-bar"></div>
        <div class="hamburger-bar"></div>
        <div class="hamburger-bar"></div>
    </button>

    <!-- Mobile menu backdrop overlay (appears when sidebar is open) -->
    <div class="mobile-backdrop" id="mobileBackdrop" onclick="closeMobileMenu()"></div>

    <!-- ==========================================================================
         SIDEBAR NAVIGATION
         ========================================================================== -->
    
    <!-- Left sidebar navigation (hidden by default, slides in on mobile) -->
    <div class="sidebar" id="sidebar">
        <!-- Sidebar header with portal branding -->
        <div class="sidebar-header">
            <h3>📖 Study Portal</h3>
        </div>
        
        <!-- Navigation links - each calls showSection() function to switch content -->
        <a href="#" onclick="showSection('home')" data-section="home">🏠 Home</a>
        <a href="#" onclick="showSection('dashboard')" data-section="dashboard">📊 Dashboard</a>
        <a href="#" onclick="showSection('books')" data-section="books">📚 Books</a>
        <a href="#" onclick="showSection('assignments')" data-section="assignments">📝 Assignments</a>
        <a href="#" onclick="showSection('notes')" data-section="notes">📋 Notes</a>
        <a href="#" onclick="showSection('projects')" data-section="projects">🚀 Projects</a>
        <a href="#" onclick="showSection('research')" data-section="research">📄 Research Papers</a>
        <a href="#" onclick="showSection('members')" data-section="members">👥 Members</a>
        <a href="#" onclick="showSection('community')" data-section="community">🤝 Community</a>
    </div>

    <!-- ==========================================================================
         TOP NAVIGATION BAR
         ========================================================================== -->
    
    <!-- Main horizontal navigation bar -->
    <div class="main-bar">
        <!-- Portal title with icon and gradient text effect -->
        <div class="portal-title">
            <span class="title-icon">📖</span>
            <span class="title-text">Study Portal</span>
        </div>
        
        <!-- Navigation buttons (desktop view) - hidden on mobile -->
        <nav class="nav-group">
            <button class="nav-btn" onclick="showSection('home')" data-section="home">🏠 Home</button>
            <button class="nav-btn" onclick="showSection('dashboard')" data-section="dashboard">📊 Dashboard</button>
            <button class="nav-btn" onclick="showSection('books')" data-section="books">📚 Books</button>
            <button class="nav-btn" onclick="showSection('assignments')" data-section="assignments">📝 Assignments</button>
            <button class="nav-btn" onclick="showSection('notes')" data-section="notes">📋 Notes</button>
            <button class="nav-btn" onclick="showSection('projects')" data-section="projects">🚀 Projects</button>
            <button class="nav-btn" onclick="showSection('research')" data-section="research">📄 Research</button>
        </nav>
    </div>

    <!-- Login button (positioned absolutely in top-right corner) -->
    <button class="login-btn" id="main-login-btn" onclick="if(typeof handleLogin === 'function'){handleLogin()}else{document.getElementById('loginModal').classList.add('active')}" title="Login to your account">
        <span class="btn-icon">�</span>
        <span class="btn-text">Login</span>
    </button>

    <!-- Content Area -->
    <div class="content-area">
        <!-- Home Section - Landing page with hero and statistics -->
        <div id="home-section" class="section-container active">
            <!-- Hero section - main welcome area with call-to-action -->
            <div class="hero-section">
                <h1>🎓 Welcome to Study Portal</h1>
                <p>Your comprehensive academic resource hub for BCA studies. Access study materials, assignments, notes, and collaborative projects all in one convenient, modern platform.</p>
                <button class="cta-button" onclick="showSection('dashboard')">
                    📊 Get Started
                </button>
            </div>

            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-number">100+</div>
                    <div class="stat-label">Study Materials</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">150+</div>
                    <div class="stat-label">Assignments</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">200+</div>
                    <div class="stat-label">Notes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Projects</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">75+</div>
                    <div class="stat-label">Research Papers</div>
                </div>
            </div>

            <div class="quick-access-grid">
                <div class="access-card">
                    <h3>📚 Study Materials</h3>
                    <p>Access comprehensive study materials, textbooks, reference guides, and e-books for all BCA subjects. Stay updated with the latest curriculum.</p>
                    <button class="card-button" onclick="showSection('books')">
                        Browse Materials
                    </button>
                </div>
                <div class="access-card">
                    <h3>📝 Assignments</h3>
                    <p>Download assignment questions, submit your completed work, and track your progress. Get timely reminders for submission deadlines.</p>
                    <button class="card-button" onclick="showSection('assignments')">
                        View Assignments
                    </button>
                </div>
                <div class="access-card">
                    <h3>📋 Notes</h3>
                    <p>Quick reference notes and summaries for all subjects. Created by experts and fellow students to help you understand complex topics.</p>
                    <button class="card-button" onclick="showSection('notes')">
                        Access Notes
                    </button>
                </div>
                <div class="access-card">
                    <h3>🚀 Projects</h3>
                    <p>Explore project ideas, collaborate with fellow students, and showcase your work. Find inspiration for your next academic project.</p>
                    <button class="card-button" onclick="showSection('projects')">
                        Explore Projects
                    </button>
                </div>
                <div class="access-card">
                    <h3>📄 Research Papers</h3>
                    <p>Access topic-wise research papers, academic publications, and scholarly articles. Stay updated with latest research in computer science and technology.</p>
                    <button class="card-button" onclick="showSection('research')">
                        Browse Papers
                    </button>
                </div>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section-container">
            <div class="dashboard-section">
                <div class="dashboard-header">
                    <h2>📊 Dashboard – Course Progress</h2>
                    <p>Track your study progress and stay organized with subject-wise completion stats.</p>
                </div>

                <div class="dashboard-grid">
                    <div class="progress-area">
                        <h3>Course Progress</h3>
                        <div class="progress-item">
                            <span>Computer Programming</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                            <span class="progress-percent">85%</span>
                        </div>
                        <div class="progress-item">
                            <span>Data Structures</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 70%"></div>
                            </div>
                            <span class="progress-percent">70%</span>
                        </div>
                        <div class="progress-item">
                            <span>Database Management</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%"></div>
                            </div>
                            <span class="progress-percent">60%</span>
                        </div>
                    </div>
                    <div class="image-area">
                        <div class="dashboard-chart">
                            <h3>Weekly Activity</h3>
                            <p>Your learning activity this week shows consistent progress across all subjects.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Books Section -->
        <div id="books-section" class="section-container">
            <h2 class="section-title">📚 Books & Study Materials</h2>
            <div class="section-content">
                <h3>Available Study Materials</h3>
                <p>Access a comprehensive collection of textbooks, reference materials, and study guides for all BCA subjects.</p>
                <ul>
                    <li>MCS-101 - Computer Programming</li>
                    <li>MCS-102 - Programming in C</li>
                    <li>MCS-103 - Computer Programming in C++</li>
                    <li>MCS-104 - Programming in Java</li>
                    <li>MCS-105 - Mathematics for Computer Science</li>
                    <li>MCS-106 - Data Structures and Algorithms</li>
                    <li>MCS-107 - Database Management Systems</li>
                    <li>MCS-108 - Computer Networks</li>
                </ul>
            </div>
            <div class="section-content">
                <h3>How to Access</h3>
                <p>All study materials are available in PDF format and can be downloaded directly. Materials are regularly updated with the latest curriculum changes.</p>
                <button class="cta-button" onclick="alert('Books download feature will be implemented here!')">
                    📥 Download Materials
                </button>
            </div>
        </div>

        <!-- Assignments Section -->
        <div id="assignments-section" class="section-container">
            <h2 class="section-title">📝 Assignments</h2>
            <div class="section-content">
                <h3>Current Assignments</h3>
                <p>Stay up-to-date with your assignment submissions and deadlines. Track your progress and get reminders.</p>
                <ul>
                    <li>Assignment 1 - Due: January 30th, 2025</li>
                    <li>Assignment 2 - Due: February 15th, 2025</li>
                    <li>Assignment 3 - Due: March 10th, 2025</li>
                    <li>Assignment 4 - Due: April 5th, 2025</li>
                </ul>
            </div>
            <div class="section-content">
                <h3>Submission Guidelines</h3>
                <p>Follow proper formatting and submission guidelines for better evaluation. All assignments should be submitted in PDF format.</p>
                <button class="cta-button" onclick="alert('Assignment submission feature will be implemented here!')">
                    📤 Submit Assignment
                </button>
            </div>
        </div>

        <!-- Notes Section -->
        <div id="notes-section" class="section-container">
            <h2 class="section-title">📋 Notes</h2>
            <div class="section-content">
                <h3>Study Notes Collection</h3>
                <p>Access quick reference notes and summaries for all subjects. These notes are created by experts and fellow students.</p>
                <ul>
                    <li>C Programming - Basic to Advanced</li>
                    <li>Python Programming - Complete Guide</li>
                    <li>Data Structures - Concepts & Implementation</li>
                    <li>Database Management - Theory & Practice</li>
                    <li>Computer Networks - Fundamentals</li>
                    <li>Mathematics - Discrete & Applied</li>
                </ul>
            </div>
            <div class="section-content">
                <h3>Recent Updates</h3>
                <p>New notes for MCS-101 have been uploaded. Updated notes for Data Structures are now available with practical examples.</p>
                <button class="cta-button" onclick="alert('Notes access feature will be implemented here!')">
                    📖 Access Notes
                </button>
            </div>
        </div>

        <!-- Projects Section -->
        <div id="projects-section" class="section-container">
            <h2 class="section-title">🚀 Projects</h2>
            <div class="section-content">
                <h3>Project Ideas & Collaboration</h3>
                <p>Explore project ideas, collaborate with fellow students, and showcase your work. Find inspiration for your next academic project.</p>
                <ul>
                    <li>Library Management System</li>
                    <li>Student Information System</li>
                    <li>E-commerce Website</li>
                    <li>Online Quiz Application</li>
                    <li>Task Management System</li>
                    <li>Weather Monitoring System</li>
                </ul>
            </div>
            <div class="section-content">
                <h3>Project Submission</h3>
                <p>Submit your completed projects and get feedback from instructors and peers. All projects should include proper documentation.</p>
                <button class="cta-button" onclick="alert('Project submission feature will be implemented here!')">
                    🎯 Submit Project
                </button>
            </div>
        </div>

        <!-- Research Papers Section -->
        <div id="research-section" class="section-container">
            <h2 class="section-title">📄 Research Papers</h2>
            
            <!-- Term/Semester Wise Organization -->
            <div class="section-content">
                <h3>📚 Term-wise Research Papers</h3>
                <p>Access research papers organized by academic terms and semesters for systematic study progression.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px;">
                    <!-- First Year -->
                    <div style="background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(76, 175, 80, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(76, 175, 80, 0.2);">
                        <h4 style="color: #4caf50; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            🥇 First Year
                        </h4>
                        <div style="margin-bottom: 10px;">
                            <strong>Semester 1:</strong> Foundation papers (15 papers)
                        </div>
                        <div>
                            <strong>Semester 2:</strong> Core concepts (18 papers)
                        </div>
                    </div>

                    <!-- Second Year -->
                    <div style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(33, 150, 243, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(33, 150, 243, 0.2);">
                        <h4 style="color: #2196f3; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            🥈 Second Year
                        </h4>
                        <div style="margin-bottom: 10px;">
                            <strong>Semester 3:</strong> Advanced topics (22 papers)
                        </div>
                        <div>
                            <strong>Semester 4:</strong> Specialization (20 papers)
                        </div>
                    </div>

                    <!-- Third Year -->
                    <div style="background: linear-gradient(135deg, rgba(255, 152, 0, 0.1) 0%, rgba(255, 152, 0, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(255, 152, 0, 0.2);">
                        <h4 style="color: #ff9800; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                            🥉 Third Year
                        </h4>
                        <div style="margin-bottom: 10px;">
                            <strong>Semester 5:</strong> Research methods (25 papers)
                        </div>
                        <div>
                            <strong>Semester 6:</strong> Industry projects (18 papers)
                        </div>
                    </div>
                </div>
            </div>

            <!-- Topic-wise Research Categories -->
            <div class="section-content">
                <h3>🔍 Topic-wise Research Categories</h3>
                <p>Browse research papers by specific topics and domains. All papers are peer-reviewed and sourced from reputable journals and conferences.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                    <div style="background: rgba(156, 39, 176, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(156, 39, 176, 0.2);">
                        <h4 style="color: #9c27b0; margin-bottom: 10px;">🤖 AI & Machine Learning</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Neural networks, deep learning, computer vision, NLP</p>
                        <small style="color: #9c27b0; font-weight: 500;">120+ papers</small>
                    </div>
                    
                    <div style="background: rgba(244, 67, 54, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(244, 67, 54, 0.2);">
                        <h4 style="color: #f44336; margin-bottom: 10px;">🔒 Cybersecurity</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Network security, cryptography, ethical hacking</p>
                        <small style="color: #f44336; font-weight: 500;">85+ papers</small>
                    </div>
                    
                    <div style="background: rgba(33, 150, 243, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(33, 150, 243, 0.2);">
                        <h4 style="color: #2196f3; margin-bottom: 10px;">📊 Data Science</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Big data analytics, data mining, statistics</p>
                        <small style="color: #2196f3; font-weight: 500;">95+ papers</small>
                    </div>
                    
                    <div style="background: rgba(76, 175, 80, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(76, 175, 80, 0.2);">
                        <h4 style="color: #4caf50; margin-bottom: 10px;">🌐 Web Technologies</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Frontend, backend, frameworks, APIs</p>
                        <small style="color: #4caf50; font-weight: 500;">70+ papers</small>
                    </div>
                    
                    <div style="background: rgba(255, 152, 0, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(255, 152, 0, 0.2);">
                        <h4 style="color: #ff9800; margin-bottom: 10px;">⚡ Algorithms & DS</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Algorithm design, complexity analysis, optimization</p>
                        <small style="color: #ff9800; font-weight: 500;">110+ papers</small>
                    </div>
                    
                    <div style="background: rgba(96, 125, 139, 0.1); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid rgba(96, 125, 139, 0.2);">
                        <h4 style="color: #607d8b; margin-bottom: 10px;">💾 Systems & OS</h4>
                        <p style="font-size: 0.9em; margin: 0; color: #666;">Operating systems, distributed systems, cloud</p>
                        <small style="color: #607d8b; font-weight: 500;">65+ papers</small>
                    </div>
                </div>
            </div>

            <!-- Research Access & Tools -->
            <div class="section-content">
                <h3>📋 Research Access & Tools</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: linear-gradient(135deg, rgba(63, 81, 181, 0.1) 0%, rgba(63, 81, 181, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(63, 81, 181, 0.2);">
                        <h4 style="color: #3f51b5; margin-bottom: 15px;">📖 Browse Papers</h4>
                        <p style="margin-bottom: 15px; color: #666;">Access organized research papers by topic or semester</p>
                        <button class="cta-button" onclick="alert('Research papers browser will open here!')" style="width: 100%;">
                            Browse Collection
                        </button>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(139, 69, 19, 0.1) 0%, rgba(139, 69, 19, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(139, 69, 19, 0.2);">
                        <h4 style="color: #8b4513; margin-bottom: 15px;">🔍 Search Papers</h4>
                        <p style="margin-bottom: 15px; color: #666;">Find specific research papers by keywords or authors</p>
                        <button class="cta-button" onclick="alert('Research search feature will be implemented!')" style="width: 100%;">
                            Search Now
                        </button>
                    </div>
                    
                    <div style="background: linear-gradient(135deg, rgba(0, 150, 136, 0.1) 0%, rgba(0, 150, 136, 0.05) 100%); padding: 20px; border-radius: 15px; border: 1px solid rgba(0, 150, 136, 0.2);">
                        <h4 style="color: #009688; margin-bottom: 15px;">💡 Research Tips</h4>
                        <p style="margin-bottom: 15px; color: #666;">Learn how to read, cite, and write research papers</p>
                        <button class="cta-button" onclick="alert('Research guidance section will open!')" style="width: 100%;">
                            Get Tips
                        </button>
                    </div>
                </div>
                
                <div style="margin-top: 25px; padding: 20px; background: linear-gradient(135deg, rgba(103, 58, 183, 0.1) 0%, rgba(103, 58, 183, 0.05) 100%); border-radius: 15px; border: 1px solid rgba(103, 58, 183, 0.2);">
                    <h4 style="color: #673ab7; margin-bottom: 10px;">📚 Latest Additions</h4>
                    <p style="margin: 0; color: #666;">New research papers are added weekly. Check back regularly for the latest publications in computer science and technology.</p>
                </div>
            </div>
        </div>

        <!-- Members Section -->
        <div id="members-section" class="section-container">
            <div class="members-section">
                <h2 class="section-title">👥 Member Details</h2>
                <div class="member-card">
                    <div class="member-stats">
                        <div class="member-top">
                            <strong>Total:</strong> <span id="totalMembers">25</span> members
                        </div>
                        <div class="member-top">
                            <strong>Active:</strong> <span id="activeMembers">18</span> online
                        </div>
                    </div>

                    <div class="member-info">
                        <p><strong>Offline:</strong> <span id="offlineMembers">7</span> members</p>
                        <p><strong>Most Active Time:</strong> <span id="activeTime">8 PM IST</span></p>
                        <p><strong>Avg. Session:</strong> <span id="avgSession">42 mins</span></p>
                    </div>

                    <button class="show-btn" onclick="openMemberPanel()" aria-label="Show member list">Show Members</button>
                </div>
            </div>
        </div>

        <!-- Community Section -->
        <div id="community-section" class="section-container">
            <div class="community-section">
                <h2 class="section-title">🤝 Join Our Community</h2>
                <p>Fill out the form below to become a member and stay updated with events, projects, and opportunities.</p>
                <div class="form-frame">
                    <iframe 
                        src="https://forms.gle/hD8X82EYMkPp9p499" 
                        width="100%" 
                        height="600" 
                        frameborder="0" 
                        marginheight="0" 
                        marginwidth="0">
                        Loading...
                    </iframe>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="login-modal">
        <div class="login-container">
            <div class="login-header">
                <h2>🔐 Study Portal Login</h2>
                <button class="close-btn" onclick="closeLoginModal()">×</button>
            </div>
            
            <div class="login-tabs">
                <button class="tab-btn active" onclick="showAuthTab('login')">Login</button>
                <button class="tab-btn" onclick="showAuthTab('register')">Register</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginTab" class="tab-content active">
                <div id="loginMessage"></div>
                <form id="loginForm" onsubmit="loginUser(event)">
                    <div class="input-group">
                        <label for="loginEmail">📧 Email:</label>
                        <input type="email" id="loginEmail" required placeholder="Enter your email" autocomplete="email">
                        <div class="input-validation" id="loginEmailValidation"></div>
                    </div>
                    <div class="input-group">
                        <label for="loginPassword">🔒 Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="loginPassword" required placeholder="Enter your password" autocomplete="current-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('loginPassword')" title="Show/Hide Password">👁️</button>
                        </div>
                        <div class="input-validation" id="loginPasswordValidation"></div>
                    </div>
                    <div class="input-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me for 30 days
                        </label>
                    </div>
                    <button type="submit" class="auth-btn primary" id="loginBtn">
                        🚀 Login to Portal
                    </button>
                </form>
                
                <p class="auth-link">
                    <a href="#" onclick="showAuthTab('forgot')">🔗 Forgot Password?</a>
                </p>
            </div>
            
            <!-- Register Form -->
            <div id="registerTab" class="tab-content">
                <div id="registerMessage"></div>
                <form id="registerForm" onsubmit="registerUser(event)">
                    <div class="input-group">
                        <label for="registerName">👤 Full Name:</label>
                        <input type="text" id="registerName" required placeholder="Enter your full name" autocomplete="name">
                        <div class="input-validation" id="registerNameValidation"></div>
                    </div>
                    <div class="input-group">
                        <label for="registerEmail">📧 Email:</label>
                        <input type="email" id="registerEmail" required placeholder="Enter your email" autocomplete="email">
                        <div class="input-validation" id="registerEmailValidation"></div>
                    </div>
                    <div class="input-group">
                        <label for="registerPassword">🔒 Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="registerPassword" required minlength="6" placeholder="Create a strong password (min 6 characters)" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('registerPassword')" title="Show/Hide Password">👁️</button>
                        </div>
                        <div class="password-strength" id="passwordStrength">
                            <div class="strength-bar">
                                <div class="strength-fill" id="strengthFill"></div>
                            </div>
                            <div class="strength-text" id="strengthText">Password strength will appear here</div>
                        </div>
                        <div class="input-validation" id="registerPasswordValidation"></div>
                    </div>
                    <div class="input-group">
                        <label for="confirmPassword">🔒 Confirm Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="confirmPassword" required placeholder="Confirm your password" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')" title="Show/Hide Password">👁️</button>
                        </div>
                        <div class="input-validation" id="confirmPasswordValidation"></div>
                    </div>
                    <div class="input-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="#" onclick="showTerms()">Terms of Service</a> and <a href="#" onclick="showPrivacy()">Privacy Policy</a>
                        </label>
                    </div>
                    <button type="submit" class="auth-btn primary" id="registerBtn">
                        📝 Create Account
                    </button>
                </form>
            </div>
            
            <!-- Forgot Password Form -->
            <div id="forgotTab" class="tab-content">
                <div class="forgot-info">
                    <h3>🔑 Reset Your Password</h3>
                    <p>Enter your email address and we'll send you a link to reset your password.</p>
                </div>
                <div id="forgotMessage"></div>
                <form id="forgotForm" onsubmit="resetPassword(event)">
                    <div class="input-group">
                        <label for="forgotEmail">📧 Email Address:</label>
                        <input type="email" id="forgotEmail" required placeholder="Enter your registered email address" autocomplete="email">
                        <div class="input-validation" id="forgotEmailValidation"></div>
                    </div>
                    <button type="submit" class="auth-btn primary" id="forgotBtn">
                        📧 Send Reset Link
                    </button>
                </form>
                <div class="auth-help">
                    <p class="help-text">
                        💡 <strong>Tip:</strong> Check your spam folder if you don't receive the email within a few minutes.
                    </p>
                </div>
                <p class="auth-link">
                    <a href="#" onclick="showAuthTab('login')">← Back to Login</a> | 
                    <a href="#" onclick="showAuthTab('register')">Create New Account</a>
                </p>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="profileModal" class="login-modal">
        <div class="login-container">
            <div class="login-header">
                <h2>👤 User Profile</h2>
                <button class="close-btn" onclick="closeProfileModal()">×</button>
            </div>
            <div class="profile-content">
                <div class="profile-info">
                    <div class="profile-avatar">👤</div>
                    <h3 id="profileName">User Name</h3>
                    <p id="profileEmail">user@example.com</p>
                    <p id="profileStatus">Email not verified</p>
                    <small id="profileSession" style="color: #666; margin-top: 10px; display: block;">Session info loading...</small>
                </div>
                <div class="profile-actions">
                    <button class="auth-btn logout-btn" onclick="logout(); console.log('Logout button clicked!');" id="profileLogoutBtn">
                        <span class="btn-icon">🚪</span>
                        <span class="btn-text">Sign Out</span>
                        <span class="btn-loading" style="display: none;">
                            <span class="loading-spinner"></span>
                            Signing out...
                        </span>
                    </button>
                    <button class="auth-btn secondary" onclick="closeProfileModal(); console.log('Close button clicked!');">
                        <span class="btn-icon">✕</span>
                        <span class="btn-text">Close</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Notification Bar -->
    <div class="notification-bar">
        <button class="notification-close" onclick="closeNotification()" title="Close notifications">×</button>
        <div class="notification-content">
            <div class="notification-item">
                <span class="icon">🔔</span>
                <span>Welcome to the portal!</span>
            </div>
            <span class="notification-separator">|</span>
            <div class="notification-item">
                <span class="icon">📅</span>
                <span>Upcoming: Assignment 2 deadline - Jan 30th</span>
            </div>
            <span class="notification-separator">|</span>
            <div class="notification-item">
                <span class="icon">📝</span>
                <span>New notes uploaded for MCS-101</span>
            </div>
            <span class="notification-separator">|</span>
            <div class="notification-item">
                <span class="icon">🎉</span>
                <span>Study groups now available in Community section</span>
            </div>
        </div>
    </div>

    <!-- Firebase Configuration -->
    <script src="js/firebase-config-enhanced.js"></script>
    
    <!-- Main Application Scripts -->
    <script src="js/app.js"></script>
    <script src="js/auth-enhanced.js"></script>
    
    <!-- GitHub Pages Compatible Login System Check -->
    <script>
        console.log('🔧 GitHub Pages Login System Check Starting...');
        
        // Immediate check for function availability
        function checkAuthSystem() {
            const requiredFunctions = ['handleLogin', 'openLoginModal', 'loginUser'];
            const missing = [];
            
            requiredFunctions.forEach(func => {
                if (typeof window[func] !== 'function') {
                    missing.push(func);
                }
            });
            
            if (missing.length > 0) {
                console.error('❌ Missing functions:', missing);
                return false;
            } else {
                console.log('✅ All auth functions available');
                return true;
            }
        }
        
        // Setup fallback for GitHub Pages
        function setupFallback() {
            console.log('🔧 Setting up GitHub Pages fallback...');
            
            window.handleLogin = function() {
                console.log('🔧 Fallback handleLogin called');
                
                // Try to load the modal directly
                const modal = document.getElementById('loginModal');
                if (modal) {
                    modal.classList.add('active');
                    console.log('✅ Modal opened via fallback');
                } else {
                    alert('Login system is loading. Please refresh the page and try again.');
                }
            };
            
            window.openLoginModal = function() {
                const modal = document.getElementById('loginModal');
                if (modal) {
                    modal.classList.add('active');
                    // Show login tab
                    const loginTab = document.getElementById('loginTab');
                    const loginContent = document.getElementById('loginContent');
                    if (loginTab) loginTab.classList.add('active');
                    if (loginContent) loginContent.classList.add('active');
                }
            };
            
            console.log('✅ Fallback functions installed');
        }
        
        // Wait for all scripts to load
        window.addEventListener('load', function() {
            console.log('🚀 Page loaded, checking auth system...');
            
            // Give scripts time to initialize
            setTimeout(function() {
                if (!checkAuthSystem()) {
                    console.log('⚠️ Auth system not ready, setting up fallback...');
                    setupFallback();
                } else {
                    console.log('✅ Auth system ready!');
                }
                
                // Ensure login button works
                const loginBtn = document.querySelector('.login-btn');
                if (loginBtn) {
                    console.log('🔧 Login button found, ensuring it works...');
                    
                    // Remove any existing listeners and add a robust one
                    const newBtn = loginBtn.cloneNode(true);
                    loginBtn.parentNode.replaceChild(newBtn, loginBtn);
                    
                    newBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('🔐 Login button clicked (GitHub Pages)');
                        
                        if (typeof handleLogin === 'function') {
                            handleLogin();
                        } else {
                            console.log('🔧 Using fallback login');
                            if (typeof window.handleLogin === 'function') {
                                window.handleLogin();
                            } else {
                                alert('Login system is still loading. Please try again in a moment.');
                            }
                        }
                    });
                    
                    console.log('✅ Login button event listener installed');
                } else {
                    console.error('❌ Login button not found');
                }
            }, 1500); // Increased timeout for GitHub Pages
        });
    </script>
</body>
</html>
