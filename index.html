<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Performance optimizations -->
    <meta name="theme-color" content="#0f2027">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Prevent FOUC (Flash of Unstyled Content) -->
    <style>
        body { 
            opacity: 0; 
            background: #0f2027;
            transition: opacity 0.3s ease;
        }
        body.loaded { 
            opacity: 1; 
        }
        .main-bar, .content-area { 
            visibility: hidden; 
        }
        body.loaded .main-bar, 
        body.loaded .content-area { 
            visibility: visible; 
        }
    </style>
    
    <title>Study Portal - Your Academic Resource Hub</title>
    <meta name="description" content="Comprehensive academic resource hub for BCA studies. Access study materials, assignments, notes, and collaborative projects.">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-firestore-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="js/firebase-config.js"></script>
    
    <!-- Cross-Browser Compatibility Scripts -->
    <script src="js/edge-compatibility.js"></script>
    <script src="js/study-portal-bundle.js"></script>
    
    <!-- Custom Stylesheets -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/mobile.css">
    <link rel="stylesheet" href="css/mobile-performance.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“–</text></svg>">
</head>

<body>
    <!-- Mobile Menu Components -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" id="mobileMenuToggle" aria-label="Toggle mobile menu" aria-expanded="false">
        <div class="hamburger-bar"></div>
        <div class="hamburger-bar"></div>
        <div class="hamburger-bar"></div>
    </button>

    <div class="mobile-backdrop" id="mobileBackdrop" onclick="closeMobileMenu()" aria-hidden="true"></div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar" role="navigation" aria-label="Main navigation">
        <div class="sidebar-header">
            <h3>ğŸ“– Study Portal</h3>
        </div>
        <a href="#" onclick="showSection('home')" class="active">ğŸ  Home</a>
        <a href="#" onclick="showSection('dashboard')">ğŸ“Š Dashboard</a>
        <a href="books.html">ğŸ“š Study Books</a>
        <a href="#" onclick="showSection('notes')">ğŸ“‹ Notes</a>
        <a href="#" onclick="showSection('assignments')">ğŸ“ Assignments</a>
        <a href="#" onclick="showSection('projects')">ğŸš€ Projects</a>
        <a href="#" onclick="showSection('research')">ğŸ“„ Research</a>
        <a href="#" onclick="showSection('members')">ğŸ‘¥ Members</a>
        <a href="#" onclick="showSection('community')">ğŸ¤ Community</a>
    </nav>

    <!-- Main Navigation Bar -->
    <div class="main-bar">
        <div class="main-bar-content">
            <div class="logo-section">
                <h1>ğŸ“– Study Portal</h1>
                <p>Your Academic Resource Hub</p>
            </div>
            <div class="nav-actions">
                <button class="login-btn" onclick="handleLogin()">ğŸ” Login</button>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="content-area">
        <!-- Home Section -->
        <div id="home-section" class="section-container active">
            <div class="hero-section">
                <div class="hero-content">
                    <h2>ğŸ“ Welcome to Your Study Portal</h2>
                    <p class="hero-description">Your one-stop destination for all BCA academic resources, collaborative learning, and educational materials.</p>
                </div>
            </div>

            <div class="quick-access-grid">
                <div class="access-card">
                    <h3>ğŸ“š Study Materials</h3>
                    <p>Access comprehensive study materials, textbooks, reference guides, and e-books for all BCA subjects.</p>
                    <button class="card-button" onclick="window.location.href='books.html'">
                        Browse Materials
                    </button>
                </div>
                
                <div class="access-card">
                    <h3>ğŸ“ Assignments</h3>
                    <p>Download assignment questions, submit your completed work, and track your progress.</p>
                    <button class="card-button" onclick="showSection('assignments')">
                        View Assignments
                    </button>
                </div>
                
                <div class="access-card">
                    <h3>ğŸ“‹ Notes</h3>
                    <p>Quick reference notes and summaries for all subjects. Created by experts and fellow students.</p>
                    <button class="card-button" onclick="showSection('notes')">
                        Access Notes
                    </button>
                </div>
                
                <div class="access-card">
                    <h3>ğŸš€ Projects</h3>
                    <p>Explore project ideas, collaborate with fellow students, and showcase your work.</p>
                    <button class="card-button" onclick="showSection('projects')">
                        Explore Projects
                    </button>
                </div>
                
                <div class="access-card">
                    <h3>ğŸ“„ Research Papers</h3>
                    <p>Access topic-wise research papers, academic publications, and scholarly articles.</p>
                    <button class="card-button" onclick="showSection('research')">
                        Browse Papers
                    </button>
                </div>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section-container">
            <div class="dashboard-section">
                <div class="dashboard-header">
                    <h2>ğŸ“Š Dashboard â€“ Course Progress</h2>
                    <p>Track your study progress and stay organized with subject-wise completion stats.</p>
                </div>

                <div class="dashboard-grid">
                    <div class="progress-area">
                        <h3>Course Progress</h3>
                        <div class="progress-item">
                            <span>Computer Programming</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                            <span class="progress-percent">85%</span>
                        </div>
                        <div class="progress-item">
                            <span>Data Structures</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 70%"></div>
                            </div>
                            <span class="progress-percent">70%</span>
                        </div>
                        <div class="progress-item">
                            <span>Database Management</span>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 60%"></div>
                            </div>
                            <span class="progress-percent">60%</span>
                        </div>
                    </div>
                    <div class="image-area">
                        <div class="dashboard-chart">
                            <h3>Weekly Activity</h3>
                            <p>Your learning activity this week shows consistent progress across all subjects.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div id="notes-section" class="section-container">
            <h2 class="section-title">ğŸ“‹ Student Notes</h2>
            
            <div class="content-tabs">
                <button class="tab-btn active" onclick="showNotesTab('browse')">ğŸ“š Browse Notes</button>
                <button class="tab-btn" onclick="showNotesTab('submit')">ğŸ“ Submit Notes</button>
            </div>
            
            <div id="notes-browse-tab" class="tab-content active">
                <div class="section-content">
                    <h3>ğŸ“š Available Notes</h3>
                    <p>Browse through curated notes submitted by students and approved by our team.</p>
                    
                    <div class="content-filters">
                        <select id="subjectFilter" onchange="filterNotes()">
                            <option value="all">ğŸ“‹ All Subjects</option>
                            <option value="programming">ğŸ’» Programming</option>
                            <option value="database">ğŸ—„ï¸ Database</option>
                            <option value="networking">ğŸŒ Networking</option>
                            <option value="mathematics">ğŸ”¢ Mathematics</option>
                        </select>
                        
                        <select id="semesterFilterNotes" onchange="filterNotes()">
                            <option value="all">ğŸ“ All Semesters</option>
                            <option value="1">ğŸ“— Semester 1</option>
                            <option value="2">ğŸ“˜ Semester 2</option>
                            <option value="3">ğŸ“™ Semester 3</option>
                            <option value="4">ğŸ“• Semester 4</option>
                        </select>
                    </div>
                    
                    <div class="notes-grid">
                        <div class="note-card programming" data-subject="programming" data-semester="1">
                            <div class="note-header">
                                <span class="note-subject">Programming</span>
                                <span class="note-semester">Sem 1</span>
                            </div>
                            <h4>C++ Basics</h4>
                            <p>Comprehensive notes covering basic concepts of C++ programming.</p>
                            <div class="note-footer">
                                <span class="note-author">By: Student A</span>
                                <button class="download-btn">ğŸ“¥ Download</button>
                            </div>
                        </div>
                        
                        <div class="note-card database" data-subject="database" data-semester="2">
                            <div class="note-header">
                                <span class="note-subject">Database</span>
                                <span class="note-semester">Sem 2</span>
                            </div>
                            <h4>SQL Queries</h4>
                            <p>Essential SQL queries and database operations with examples.</p>
                            <div class="note-footer">
                                <span class="note-author">By: Student B</span>
                                <button class="download-btn">ğŸ“¥ Download</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="notes-submit-tab" class="tab-content">
                <div class="section-content">
                    <h3>ğŸ“ Submit Your Notes</h3>
                    <p>Share your knowledge with fellow students by submitting your notes.</p>
                    
                    <form class="submit-form" onsubmit="submitNote(event)">
                        <div class="form-group">
                            <label for="noteTitle">ğŸ“„ Note Title:</label>
                            <input type="text" id="noteTitle" required placeholder="Enter note title">
                        </div>
                        
                        <div class="form-group">
                            <label for="noteSubject">ğŸ“š Subject:</label>
                            <select id="noteSubject" required>
                                <option value="">Select Subject</option>
                                <option value="programming">ğŸ’» Programming</option>
                                <option value="database">ğŸ—„ï¸ Database</option>
                                <option value="networking">ğŸŒ Networking</option>
                                <option value="mathematics">ğŸ”¢ Mathematics</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="noteFile">ğŸ“ Upload File:</label>
                            <input type="file" id="noteFile" accept=".pdf,.doc,.docx" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="noteDescription">ğŸ“ Description:</label>
                            <textarea id="noteDescription" placeholder="Brief description of your notes" rows="4"></textarea>
                        </div>
                        
                        <button type="submit" class="submit-btn">ğŸ“¤ Submit Notes</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Assignments Section -->
        <div id="assignments-section" class="section-container">
            <h2 class="section-title">ğŸ“ Assignments</h2>
            <div class="section-content">
                <p>Access and submit your assignments here.</p>
                <div class="assignments-grid">
                    <div class="assignment-card">
                        <h3>Assignment 1 - Programming</h3>
                        <p>C++ Programming Fundamentals</p>
                        <div class="assignment-meta">
                            <span>Due: Jan 30, 2025</span>
                            <span>Status: Pending</span>
                        </div>
                        <button class="download-btn">ğŸ“¥ Download</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Projects Section -->
        <div id="projects-section" class="section-container">
            <h2 class="section-title">ğŸš€ Projects</h2>
            <div class="section-content">
                <p>Explore project ideas and collaborate with fellow students.</p>
                <div class="projects-grid">
                    <div class="project-card">
                        <h3>Student Management System</h3>
                        <p>A comprehensive system to manage student records and academic data.</p>
                        <div class="project-tech">
                            <span class="tech-tag">C++</span>
                            <span class="tech-tag">Database</span>
                        </div>
                        <button class="view-btn">ğŸ‘ï¸ View Details</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Research Section -->
        <div id="research-section" class="section-container">
            <h2 class="section-title">ğŸ“„ Research Papers</h2>
            <div class="section-content">
                <p>Access academic research papers and publications.</p>
                <div class="research-grid">
                    <div class="research-card">
                        <h3>Machine Learning in Education</h3>
                        <p>A comprehensive study on AI applications in educational systems.</p>
                        <div class="research-meta">
                            <span>Published: 2024</span>
                            <span>Category: AI/ML</span>
                        </div>
                        <button class="download-btn">ğŸ“¥ Download PDF</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Members Section -->
        <div id="members-section" class="section-container">
            <h2 class="section-title">ğŸ‘¥ Community Members</h2>
            <div class="section-content">
                <p>Connect with fellow students and faculty members.</p>
                <div class="members-grid">
                    <div class="member-card">
                        <div class="member-avatar">ğŸ‘¤</div>
                        <h3>Student Name</h3>
                        <p>BCA Student</p>
                        <button class="connect-btn">ğŸ¤ Connect</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Community Section -->
        <div id="community-section" class="section-container">
            <h2 class="section-title">ğŸ¤ Community</h2>
            <div class="section-content">
                <p>Join discussions, share knowledge, and collaborate with the community.</p>
                <div class="community-features">
                    <div class="feature-card">
                        <h3>ğŸ’¬ Discussion Forums</h3>
                        <p>Engage in academic discussions and get help from peers.</p>
                        <button class="feature-btn">Join Discussions</button>
                    </div>
                    
                    <div class="feature-card">
                        <h3>ğŸ“š Study Groups</h3>
                        <p>Form or join study groups for collaborative learning.</p>
                        <button class="feature-btn">Find Groups</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="login-modal">
        <div class="login-container">
            <div class="login-header">
                <h2>ğŸ” Portal Access</h2>
                <button class="close-btn" onclick="closeLoginModal()">Ã—</button>
            </div>
            
            <div class="login-tabs">
                <button class="tab-btn active" onclick="showAuthTab('login')">ğŸ”‘ Login</button>
                <button class="tab-btn" onclick="showAuthTab('register')">ğŸ“ Register</button>
            </div>
            
            <!-- Login Form -->
            <div id="loginTab" class="tab-content active">
                <div id="loginMessage"></div>
                <form id="loginForm" onsubmit="loginUser(event)">
                    <div class="input-group">
                        <label for="loginEmail">ğŸ“§ Email:</label>
                        <input type="email" id="loginEmail" required placeholder="Enter your email" autocomplete="email">
                    </div>
                    <div class="input-group">
                        <label for="loginPassword">ğŸ”’ Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="loginPassword" required placeholder="Enter your password" autocomplete="current-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('loginPassword')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="input-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe">
                            <span class="checkmark"></span>
                            Remember me for 30 days
                        </label>
                    </div>
                    <button type="submit" class="auth-btn primary" id="loginBtn">
                        ğŸš€ Login to Portal
                    </button>
                </form>
                
                <p class="auth-link">
                    <button type="button" class="link-btn" onclick="showAuthTab('forgot')">ğŸ”— Forgot Password?</button>
                </p>
            </div>
            
            <!-- Register Form -->
            <div id="registerTab" class="tab-content">
                <div id="registerMessage"></div>
                <form id="registerForm" onsubmit="registerUser(event)">
                    <div class="input-group">
                        <label for="registerName">ğŸ‘¤ Full Name:</label>
                        <input type="text" id="registerName" required placeholder="Enter your full name" autocomplete="name">
                    </div>
                    <div class="input-group">
                        <label for="registerEmail">ğŸ“§ Email:</label>
                        <input type="email" id="registerEmail" required placeholder="Enter your email" autocomplete="email">
                    </div>
                    <div class="input-group">
                        <label for="registerPassword">ğŸ”’ Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="registerPassword" required minlength="6" placeholder="Create a strong password" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('registerPassword')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="confirmPassword">ğŸ”’ Confirm Password:</label>
                        <div class="password-input-container">
                            <input type="password" id="confirmPassword" required placeholder="Confirm your password" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePasswordVisibility('confirmPassword')">ğŸ‘ï¸</button>
                        </div>
                    </div>
                    <div class="input-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="agreeTerms" required>
                            <span class="checkmark"></span>
                            I agree to the <a href="terms-of-use.html" target="_blank">Terms of Service</a> and <a href="privacy-policy.html" target="_blank">Privacy Policy</a>
                        </label>
                    </div>
                    <button type="submit" class="auth-btn primary" id="registerBtn">
                        ğŸ“ Create Account
                    </button>
                </form>
            </div>
            
            <!-- Forgot Password Form -->
            <div id="forgotTab" class="tab-content">
                <div class="forgot-info">
                    <h3>ğŸ”‘ Reset Your Password</h3>
                    <p>Enter your email address and we'll send you a link to reset your password.</p>
                </div>
                <div id="forgotMessage"></div>
                <form id="forgotForm" onsubmit="resetPassword(event)">
                    <div class="input-group">
                        <label for="forgotEmail">ğŸ“§ Email Address:</label>
                        <input type="email" id="forgotEmail" required placeholder="Enter your registered email" autocomplete="email">
                    </div>
                    <button type="submit" class="auth-btn primary" id="forgotBtn">
                        ğŸ“§ Send Reset Link
                    </button>
                </form>
                <p class="auth-link">
                    <button type="button" class="link-btn" onclick="showAuthTab('login')">â† Back to Login</button>
                </p>
            </div>
        </div>
    </div>

    <!-- User Profile Modal -->
    <div id="profileModal" class="login-modal">
        <div class="login-container">
            <div class="login-header">
                <h2>ğŸ‘¤ User Profile</h2>
                <button class="close-btn" onclick="closeProfileModal()">Ã—</button>
            </div>
            <div class="profile-content">
                <div class="profile-info">
                    <div class="profile-avatar">ğŸ‘¤</div>
                    <h3 id="profileName">User Name</h3>
                    <p id="profileEmail">user@example.com</p>
                    <p id="profileStatus">Email not verified</p>
                </div>
                <div class="profile-actions">
                    <button class="auth-btn logout-btn" onclick="logout()" id="profileLogoutBtn">
                        ğŸšª Sign Out
                    </button>
                    <button class="auth-btn secondary" onclick="closeProfileModal()">
                        âœ• Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Bar -->
    <div class="notification-bar">
        <button class="notification-close" onclick="closeNotification()">Ã—</button>
        <div class="notification-content">
            <div class="notification-item">
                <span class="icon">ğŸ””</span>
                <span>Welcome to the portal!</span>
            </div>
            <span class="notification-separator">|</span>
            <div class="notification-item">
                <span class="icon">ğŸ“…</span>
                <span>Upcoming: Assignment 2 deadline - Jan 30th</span>
            </div>
            <span class="notification-separator">|</span>
            <div class="notification-item">
                <span class="icon">ğŸ“</span>
                <span>New notes uploaded for MCS-101</span>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>ğŸ“– Study Portal</h3>
                <p>Your comprehensive academic resource hub for BCA studies and collaborative learning.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="#" onclick="showSection('home')">ğŸ  Home</a></li>
                    <li><a href="#" onclick="showSection('dashboard')">ğŸ“Š Dashboard</a></li>
                    <li><a href="books.html">ğŸ“š Books</a></li>
                    <li><a href="#" onclick="showSection('notes')">ğŸ“‹ Notes</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Community</h4>
                <ul class="footer-links">
                    <li><a href="#" onclick="showSection('projects')">ğŸš€ Projects</a></li>
                    <li><a href="#" onclick="showSection('research')">ğŸ“„ Research</a></li>
                    <li><a href="#" onclick="showSection('members')">ğŸ‘¥ Members</a></li>
                    <li><a href="#" onclick="showSection('community')">ğŸ¤ Community</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <ul class="footer-links">
                    <li><a href="privacy-policy.html">ğŸ”’ Privacy Policy</a></li>
                    <li><a href="terms-of-use.html">ğŸ“œ Terms of Use</a></li>
                    <li><a href="#" onclick="showSection('home')">â„¹ï¸ About</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Study Portal. All rights reserved. | Made with â¤ï¸ for students</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="js/notes-manager.js"></script>
    
    <!-- Main Application Logic -->
    <script>
        // Initialize the portal
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Study Portal initialized');
            document.body.classList.add('loaded');
        });

        // Section Management
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section-container');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Update sidebar active state
            const sidebarLinks = document.querySelectorAll('.sidebar a');
            sidebarLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Close mobile menu if open
            closeMobileMenu();
        }

        // Mobile Menu Functions
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('mobileBackdrop');
            const toggle = document.getElementById('mobileMenuToggle');
            
            sidebar.classList.toggle('active');
            backdrop.classList.toggle('active');
            
            const isExpanded = sidebar.classList.contains('active');
            toggle.setAttribute('aria-expanded', isExpanded);
        }

        function closeMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('mobileBackdrop');
            const toggle = document.getElementById('mobileMenuToggle');
            
            sidebar.classList.remove('active');
            backdrop.classList.remove('active');
            toggle.setAttribute('aria-expanded', 'false');
        }

        // Authentication Functions
        function handleLogin() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.add('active');
                showAuthTab('login');
            }
        }

        function closeLoginModal() {
            const modal = document.getElementById('loginModal');
            if (modal) {
                modal.classList.remove('active');
            }
        }

        function showAuthTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('#loginModal .tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active from all tab buttons
            const tabBtns = document.querySelectorAll('#loginModal .tab-btn');
            tabBtns.forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            const targetTab = document.getElementById(tabName + 'Tab');
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            // Activate corresponding tab button
            const activeBtn = document.querySelector(`#loginModal .tab-btn[onclick="showAuthTab('${tabName}')"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
        }

        function loginUser(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            console.log('Login attempt:', email);
            // Add your login logic here
            
            // For demo purposes
            alert('Login functionality will be implemented with Firebase');
        }

        function registerUser(event) {
            event.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            
            console.log('Register attempt:', email);
            // Add your registration logic here
            
            // For demo purposes
            alert('Registration functionality will be implemented with Firebase');
        }

        function resetPassword(event) {
            event.preventDefault();
            const email = document.getElementById('forgotEmail').value;
            
            console.log('Password reset request:', email);
            // Add your password reset logic here
            
            // For demo purposes
            alert('Password reset functionality will be implemented with Firebase');
        }

        function togglePasswordVisibility(inputId) {
            const input = document.getElementById(inputId);
            const button = input.nextElementSibling;
            
            if (input.type === 'password') {
                input.type = 'text';
                button.textContent = 'ğŸ™ˆ';
            } else {
                input.type = 'password';
                button.textContent = 'ğŸ‘ï¸';
            }
        }

        // Notes Functions
        function showNotesTab(tabName) {
            const tabs = document.querySelectorAll('#notes-section .tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            const tabBtns = document.querySelectorAll('#notes-section .tab-btn');
            tabBtns.forEach(btn => btn.classList.remove('active'));
            
            document.getElementById('notes-' + tabName + '-tab').classList.add('active');
            document.querySelector(`[onclick="showNotesTab('${tabName}')"]`).classList.add('active');
        }

        function filterNotes() {
            const subjectFilter = document.getElementById('subjectFilter').value;
            const semesterFilter = document.getElementById('semesterFilterNotes').value;
            
            const notes = document.querySelectorAll('.note-card');
            notes.forEach(note => {
                const noteSubject = note.dataset.subject;
                const noteSemester = note.dataset.semester;
                
                const subjectMatch = subjectFilter === 'all' || noteSubject === subjectFilter;
                const semesterMatch = semesterFilter === 'all' || noteSemester === semesterFilter;
                
                if (subjectMatch && semesterMatch) {
                    note.style.display = 'block';
                } else {
                    note.style.display = 'none';
                }
            });
        }

        function submitNote(event) {
            event.preventDefault();
            const title = document.getElementById('noteTitle').value;
            const subject = document.getElementById('noteSubject').value;
            const file = document.getElementById('noteFile').files[0];
            const description = document.getElementById('noteDescription').value;
            
            console.log('Note submission:', { title, subject, file, description });
            alert('Note submission functionality will be implemented');
        }

        // Notification Functions
        function closeNotification() {
            const notification = document.querySelector('.notification-bar');
            if (notification) {
                notification.style.display = 'none';
            }
        }

        // Profile Functions
        function closeProfileModal() {
            const modal = document.getElementById('profileModal');
            if (modal) {
                modal.classList.remove('active');
            }
        }

        function logout() {
            console.log('Logout requested');
            // Add logout logic here
            alert('Logout functionality will be implemented');
        }

        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            const loginModal = document.getElementById('loginModal');
            const profileModal = document.getElementById('profileModal');
            
            if (event.target === loginModal) {
                closeLoginModal();
            }
            
            if (event.target === profileModal) {
                closeProfileModal();
            }
        });

        // Loading animation
        window.addEventListener('load', function() {
            document.body.classList.add('loaded');
        });
    </script>
</body>
</html>
